<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>File List with Download</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                background: #f5f5f5;
                margin: 0;
                padding: 2rem;
            }
            .grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
                gap: 16px;
            }
            .card {
                background: #fff;
                border-radius: 10px;
                padding: 16px;
                display: flex;
                flex-direction: column;
                gap: 12px;
                box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            }
            .file-info {
                display: flex;
                align-items: center;
                gap: 12px;
            }
            .icon {
                font-size: 28px;
            }
            .pdf {
                color: #e74c3c;
            }
            .image {
                color: #3498db;
            }
            .video {
                color: #8e44ad;
            }
            .audio {
                color: #f39c12;
            }
            .archive {
                color: #e67e22;
            }
            .text {
                color: #2c3e50;
            }
            .default {
                color: #95a5a6;
            }
            button {
                background: #4caf50;
                color: white;
                border: none;
                padding: 8px 12px;
                border-radius: 5px;
                cursor: pointer;
                transition: background 0.3s;
                width: 100%;
            }
            button:hover {
                background: #45a049;
            }
        </style>
    </head>
    <body>
        <div class="grid" id="file-list"></div>

        <script>
            const files = [{ name: "egg-minecraft.tar" }];

            function getIconClass(filename) {
                const ext = filename.split(".").pop().toLowerCase();
                switch (ext) {
                    case "pdf":
                        return ["📄", "pdf"];
                    case "jpg":
                    case "jpeg":
                    case "png":
                    case "gif":
                        return ["🖼️", "image"];
                    case "mp4":
                    case "mkv":
                        return ["🎬", "video"];
                    case "mp3":
                        return ["🎵", "audio"];
                    case "zip":
                    case "rar":
                        return ["🗜️", "archive"];
                    case "txt":
                    case "doc":
                    case "docx":
                        return ["📃", "text"];
                    default:
                        return ["📁", "default"];
                }
            }

            const container = document.getElementById("file-list");
            files.forEach(file => {
                const [emoji, className] = getIconClass(file.name);
                const card = document.createElement("div");
                card.className = "card";

                const fileInfo = document.createElement("div");
                fileInfo.className = "file-info";

                const icon = document.createElement("div");
                icon.className = `icon ${className}`;
                icon.textContent = emoji;

                const filename = document.createElement("div");
                filename.textContent = file.name;

                fileInfo.appendChild(icon);
                fileInfo.appendChild(filename);

                const downloadBtn = document.createElement("a");
                downloadBtn.href = `/files/${file.name}`;
                downloadBtn.download = file.name;
                downloadBtn.innerHTML = "<button>Download</button>";

                card.appendChild(fileInfo);
                card.appendChild(downloadBtn);
                container.appendChild(card);
            });
        </script>
    </body>
</html>
